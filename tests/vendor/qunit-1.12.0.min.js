!function(t){function e(t){p(this,t),this.assertions=[],this.testNumber=++e.count}function n(){E.autorun=!0,E.currentModule&&k("moduleDone",w,{name:E.currentModule,failed:E.moduleStats.bad,passed:E.moduleStats.all-E.moduleStats.bad,total:E.moduleStats.all}),delete E.previousModule;var e,n,s=y("qunit-banner"),i=y("qunit-tests"),r=+new q-E.started,o=E.stats.all-E.stats.bad,a=["Tests completed in ",r," milliseconds.<br/>","<span class='passed'>",o,"</span> assertions of <span class='total'>",E.stats.all,"</span> passed, <span class='failed'>",E.stats.bad,"</span> failed."].join("");if(s&&(s.className=E.stats.bad?"qunit-fail":"qunit-pass"),i&&(y("qunit-testresult").innerHTML=a),E.altertitle&&"undefined"!=typeof document&&document.title&&(document.title=[E.stats.bad?"✖":"✔",document.title.replace(/^[\u2714\u2716] /i,"")].join(" ")),E.reorder&&I.sessionStorage&&0===E.stats.bad)for(e=0;e<sessionStorage.length;e++)n=sessionStorage.key(e++),0===n.indexOf("qunit-test-")&&sessionStorage.removeItem(n);t.scrollTo&&t.scrollTo(0,0),k("done",w,{failed:E.stats.bad,passed:o,total:E.stats.all,runtime:r})}function s(t){var e,n=E.filter&&E.filter.toLowerCase(),i=E.module&&E.module.toLowerCase(),r=(t.module+": "+t.testName).toLowerCase();return t.callback&&t.callback.validTest===s?(delete t.callback.validTest,!0):E.testNumber?t.testNumber===E.testNumber:!i||t.module&&t.module.toLowerCase()===i?n?(e="!"!==n.charAt(0),e||(n=n.slice(1)),-1!==r.indexOf(n)?e:!e):!0:!1}function i(t,e){e=void 0===e?3:e;var n,s,i;if(t.stacktrace)return t.stacktrace.split("\n")[e+3];if(t.stack){if(n=t.stack.split("\n"),/^error$/i.test(n[0])&&n.shift(),T){for(s=[],i=e;i<n.length&&-1===n[i].indexOf(T);i++)s.push(n[i]);if(s.length)return s.join("\n")}return n[e]}if(t.sourceURL){if(/qunit.js$/.test(t.sourceURL))return;return t.sourceURL+":"+t.line}}function r(t){try{throw new Error}catch(e){return i(e,t)}}function o(t){return t?(t+="",t.replace(/['"<>&]/g,function(t){switch(t){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})):""}function a(t,e){E.queue.push(t),E.autorun&&!E.blocking&&l(e)}function l(t){function e(){l(t)}var s=(new q).getTime();for(E.depth=E.depth?E.depth+1:1;E.queue.length&&!E.blocking;){if(!(!I.setTimeout||E.updateRate<=0||(new q).getTime()-s<E.updateRate)){_(e,13);break}E.queue.shift()()}E.depth--,!t||E.blocking||E.queue.length||0!==E.depth||n()}function u(){if(E.pollution=[],E.noglobals)for(var e in t)if(M.call(t,e)){if(/^qunit-test-output/.test(e))continue;E.pollution.push(e)}}function h(){var t,e,n=E.pollution;u(),t=c(E.pollution,n),t.length>0&&w.pushFailure("Introduced global variable(s): "+t.join(", ")),e=c(n,E.pollution),e.length>0&&w.pushFailure("Deleted global variable(s): "+e.join(", "))}function c(t,e){var n,s,i=t.slice();for(n=0;n<i.length;n++)for(s=0;s<e.length;s++)if(i[n]===e[s]){i.splice(n,1),n--;break}return i}function p(e,n){for(var s in n)M.call(n,s)&&("constructor"!==s||e!==t)&&(void 0===n[s]?delete e[s]:e[s]=n[s]);return e}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function f(t,e,n){for(var s=t.length;s--;)d(t[s],e,n)}function m(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function g(t,e){m(t,e)||(t.className+=(t.className?" ":"")+e)}function v(t,e){for(var n=" "+t.className+" ";n.indexOf(" "+e+" ")>-1;)n=n.replace(" "+e+" "," ");t.className="function"==typeof n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function y(t){return!("undefined"==typeof document||!document||!document.getElementById)&&document.getElementById(t)}function b(t){return function(e){E[t].push(e)}}function k(t,e,n){var s,i;if(w.hasOwnProperty(t))w[t].call(e,n);else for(i=E[t],s=0;s<i.length;s++)i[s].call(e,n)}function S(t,e){if(e.indexOf)return e.indexOf(t);for(var n=0,s=e.length;s>n;n++)if(e[n]===t)return n;return-1}var w,x,E,N,C=0,T=(r(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),P=Object.prototype.toString,M=Object.prototype.hasOwnProperty,q=t.Date,_=t.setTimeout,I={setTimeout:"undefined"!=typeof t.setTimeout,sessionStorage:function(){var t="qunit-test-string";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(e){return!1}}()},H=function(t){var e,n,s=t.toString();return"[object"===s.substring(0,7)?(e=t.name?t.name.toString():"Error",n=t.message?t.message.toString():"",e&&n?e+": "+n:e?e:n?n:"Error"):s},A=function(t){var e,n,s=w.is("array",t)?[]:{};for(e in t)M.call(t,e)&&(n=t[e],s[e]=n===Object(n)?A(n):n);return s};e.count=0,e.prototype={init:function(){var t,e,n,s=y("qunit-tests");s&&(e=document.createElement("strong"),e.innerHTML=this.nameHtml,t=document.createElement("a"),t.innerHTML="Rerun",t.href=w.url({testNumber:this.testNumber}),n=document.createElement("li"),n.appendChild(e),n.appendChild(t),n.className="running",n.id=this.id="qunit-test-output"+C++,s.appendChild(n))},setup:function(){if(this.module===E.previousModule&&M.call(E,"previousModule")||(M.call(E,"previousModule")&&k("moduleDone",w,{name:E.previousModule,failed:E.moduleStats.bad,passed:E.moduleStats.all-E.moduleStats.bad,total:E.moduleStats.all}),E.previousModule=this.module,E.moduleStats={all:0,bad:0},k("moduleStart",w,{name:this.module})),E.current=this,this.testEnvironment=p({setup:function(){},teardown:function(){}},this.moduleTestEnvironment),this.started=+new q,k("testStart",w,{name:this.testName,module:this.module}),w.current_testEnvironment=this.testEnvironment,E.pollution||u(),E.notrycatch)return this.testEnvironment.setup.call(this.testEnvironment,w.assert),void 0;try{this.testEnvironment.setup.call(this.testEnvironment,w.assert)}catch(t){w.pushFailure("Setup failed on "+this.testName+": "+(t.message||t),i(t,1))}},run:function(){E.current=this;var t=y("qunit-testresult");if(t&&(t.innerHTML="Running: <br/>"+this.nameHtml),this.async&&w.stop(),this.callbackStarted=+new q,E.notrycatch)return this.callback.call(this.testEnvironment,w.assert),this.callbackRuntime=+new q-this.callbackStarted,void 0;try{this.callback.call(this.testEnvironment,w.assert),this.callbackRuntime=+new q-this.callbackStarted}catch(e){this.callbackRuntime=+new q-this.callbackStarted,w.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(e.message||e),i(e,0)),u(),E.blocking&&w.start()}},teardown:function(){if(E.current=this,E.notrycatch)return"undefined"==typeof this.callbackRuntime&&(this.callbackRuntime=+new q-this.callbackStarted),this.testEnvironment.teardown.call(this.testEnvironment,w.assert),void 0;try{this.testEnvironment.teardown.call(this.testEnvironment,w.assert)}catch(t){w.pushFailure("Teardown failed on "+this.testName+": "+(t.message||t),i(t,1))}h()},finish:function(){E.current=this,E.requireExpects&&null===this.expected?w.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):null!==this.expected&&this.expected!==this.assertions.length?w.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):null!==this.expected||this.assertions.length||w.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var e,n,s,i,r,o,a,l=this,u=0,h=0,c=y("qunit-tests");if(this.runtime=+new q-this.started,E.stats.all+=this.assertions.length,E.moduleStats.all+=this.assertions.length,c){for(a=document.createElement("ol"),a.className="qunit-assert-list",e=0;e<this.assertions.length;e++)n=this.assertions[e],o=document.createElement("li"),o.className=n.result?"pass":"fail",o.innerHTML=n.message||(n.result?"okay":"failed"),a.appendChild(o),n.result?u++:(h++,E.stats.bad++,E.moduleStats.bad++);w.config.reorder&&I.sessionStorage&&(h?sessionStorage.setItem("qunit-test-"+this.module+"-"+this.testName,h):sessionStorage.removeItem("qunit-test-"+this.module+"-"+this.testName)),0===h&&g(a,"qunit-collapsed"),i=document.createElement("strong"),i.innerHTML=this.nameHtml+" <b class='counts'>(<b class='failed'>"+h+"</b>, <b class='passed'>"+u+"</b>, "+this.assertions.length+")</b>",d(i,"click",function(){var t=i.parentNode.lastChild,e=m(t,"qunit-collapsed");(e?v:g)(t,"qunit-collapsed")}),d(i,"dblclick",function(e){var n=e&&e.target?e.target:t.event.srcElement;("span"===n.nodeName.toLowerCase()||"b"===n.nodeName.toLowerCase())&&(n=n.parentNode),t.location&&"strong"===n.nodeName.toLowerCase()&&(t.location=w.url({testNumber:l.testNumber}))}),r=document.createElement("span"),r.className="runtime",r.innerHTML=this.runtime+" ms",o=y(this.id),o.className=h?"fail":"pass",o.removeChild(o.firstChild),s=o.firstChild,o.appendChild(i),o.appendChild(s),o.appendChild(r),o.appendChild(a)}else for(e=0;e<this.assertions.length;e++)this.assertions[e].result||(h++,E.stats.bad++,E.moduleStats.bad++);k("testDone",w,{name:this.testName,module:this.module,failed:h,passed:this.assertions.length-h,total:this.assertions.length,duration:this.runtime}),w.reset(),E.current=void 0},queue:function(){function t(){a(function(){n.setup()}),a(function(){n.run()}),a(function(){n.teardown()}),a(function(){n.finish()})}var e,n=this;a(function(){n.init()}),e=w.config.reorder&&I.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module+"-"+this.testName),e?t():a(t,!0)}},w={module:function(t,e){E.currentModule=t,E.currentModuleTestEnvironment=e,E.modules[t]=!0},asyncTest:function(t,e,n){2===arguments.length&&(n=e,e=null),w.test(t,e,n,!0)},test:function(t,n,i,a){var l,u="<span class='test-name'>"+o(t)+"</span>";2===arguments.length&&(i=n,n=null),E.currentModule&&(u="<span class='module-name'>"+o(E.currentModule)+"</span>: "+u),l=new e({nameHtml:u,testName:t,expected:n,async:a,callback:i,module:E.currentModule,moduleTestEnvironment:E.currentModuleTestEnvironment,stack:r(2)}),s(l)&&l.queue()},expect:function(t){return 1!==arguments.length?E.current.expected:(E.current.expected=t,void 0)},start:function(t){return void 0===E.semaphore?(w.begin(function(){_(function(){w.start(t)})}),void 0):(E.semaphore-=t||1,E.semaphore>0?void 0:E.semaphore<0?(E.semaphore=0,w.pushFailure("Called start() while already started (QUnit.config.semaphore was 0 already)",null,r(2)),void 0):(I.setTimeout?_(function(){E.semaphore>0||(E.timeout&&clearTimeout(E.timeout),E.blocking=!1,l(!0))},13):(E.blocking=!1,l(!0)),void 0))},stop:function(t){E.semaphore+=t||1,E.blocking=!0,E.testTimeout&&I.setTimeout&&(clearTimeout(E.timeout),E.timeout=_(function(){w.ok(!1,"Test timed out"),E.semaphore=1,w.start()},E.testTimeout))}},x={ok:function(t,e){if(!E.current)throw new Error("ok() assertion outside test context, was "+r(2));t=!!t,e=e||(t?"okay":"failed");var n,s={module:E.current.module,name:E.current.testName,result:t,message:e};e="<span class='test-message'>"+o(e)+"</span>",t||(n=r(2),n&&(s.source=n,e+="<table><tr class='test-source'><th>Source: </th><td><pre>"+o(n)+"</pre></td></tr></table>")),k("log",w,s),E.current.assertions.push({result:t,message:e})},equal:function(t,e,n){w.push(e==t,t,e,n)},notEqual:function(t,e,n){w.push(e!=t,t,e,n)},propEqual:function(t,e,n){t=A(t),e=A(e),w.push(w.equiv(t,e),t,e,n)},notPropEqual:function(t,e,n){t=A(t),e=A(e),w.push(!w.equiv(t,e),t,e,n)},deepEqual:function(t,e,n){w.push(w.equiv(t,e),t,e,n)},notDeepEqual:function(t,e,n){w.push(!w.equiv(t,e),t,e,n)},strictEqual:function(t,e,n){w.push(e===t,t,e,n)},notStrictEqual:function(t,e,n){w.push(e!==t,t,e,n)},"throws":function(t,e,n){var s,i=e,r=!1;"string"==typeof e&&(n=e,e=null),E.current.ignoreGlobalErrors=!0;try{t.call(E.current.testEnvironment)}catch(o){s=o}E.current.ignoreGlobalErrors=!1,s?(e?"regexp"===w.objectType(e)?r=e.test(H(s)):s instanceof e?r=!0:e.call({},s)===!0&&(i=null,r=!0):(r=!0,i=null),w.push(r,s,i,n)):w.pushFailure(n,null,"No exception was thrown.")}},p(w,x),w.raises=x["throws"],w.equals=function(){w.push(!1,!1,!1,"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead")},w.same=function(){w.push(!1,!1,!1,"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead")},function(){function t(){}t.prototype=w,w=new t,w.constructor=t}(),E={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,requireExpects:!1,urlConfig:[{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}],modules:{},begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]},"undefined"==typeof exports&&(p(t,w.constructor.prototype),t.QUnit=w),function(){var e,n,s=t.location||{search:"",protocol:"file:"},i=s.search.slice(1).split("&"),r=i.length,o={};if(i[0])for(e=0;r>e;e++)n=i[e].split("="),n[0]=decodeURIComponent(n[0]),n[1]=n[1]?decodeURIComponent(n[1]):!0,o[n[0]]=n[1];w.urlParams=o,E.filter=o.filter,E.module=o.module,E.testNumber=parseInt(o.testNumber,10)||null,w.isLocal="file:"===s.protocol}(),p(w,{assert:x,config:E,init:function(){p(E,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new q,updateRate:1e3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:1});var t,e,n,s=y("qunit");s&&(s.innerHTML="<h1 id='qunit-header'>"+o(document.title)+"</h1>"+"<h2 id='qunit-banner'></h2>"+"<div id='qunit-testrunner-toolbar'></div>"+"<h2 id='qunit-userAgent'></h2>"+"<ol id='qunit-tests'></ol>"),t=y("qunit-tests"),e=y("qunit-banner"),n=y("qunit-testresult"),t&&(t.innerHTML=""),e&&(e.className=""),n&&n.parentNode.removeChild(n),t&&(n=document.createElement("p"),n.id="qunit-testresult",n.className="result",t.parentNode.insertBefore(n,t),n.innerHTML="Running...<br/>&nbsp;")},reset:function(){var t=y("qunit-fixture");t&&(t.innerHTML=E.fixture)},triggerEvent:function(t,e,n){document.createEvent?(n=document.createEvent("MouseEvents"),n.initMouseEvent(e,!0,!0,t.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n)):t.fireEvent&&t.fireEvent("on"+e)},is:function(t,e){return w.objectType(e)===t},objectType:function(t){if("undefined"==typeof t)return"undefined";if(null===t)return"null";var e=P.call(t).match(/^\[object\s(.*)\]$/),n=e&&e[1]||"";switch(n){case"Number":return isNaN(t)?"nan":"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return n.toLowerCase()}return"object"==typeof t?"object":void 0},push:function(t,e,n,s){if(!E.current)throw new Error("assertion outside test context, was "+r());var i,a,l={module:E.current.module,name:E.current.testName,result:t,message:s,actual:e,expected:n};s=o(s)||(t?"okay":"failed"),s="<span class='test-message'>"+s+"</span>",i=s,t||(n=o(w.jsDump.parse(n)),e=o(w.jsDump.parse(e)),i+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+n+"</pre></td></tr>",e!==n&&(i+="<tr class='test-actual'><th>Result: </th><td><pre>"+e+"</pre></td></tr>",i+="<tr class='test-diff'><th>Diff: </th><td><pre>"+w.diff(n,e)+"</pre></td></tr>"),a=r(),a&&(l.source=a,i+="<tr class='test-source'><th>Source: </th><td><pre>"+o(a)+"</pre></td></tr>"),i+="</table>"),k("log",w,l),E.current.assertions.push({result:!!t,message:i})},pushFailure:function(t,e,n){if(!E.current)throw new Error("pushFailure() assertion outside test context, was "+r(2));var s,i={module:E.current.module,name:E.current.testName,result:!1,message:t};t=o(t)||"error",t="<span class='test-message'>"+t+"</span>",s=t,s+="<table>",n&&(s+="<tr class='test-actual'><th>Result: </th><td><pre>"+o(n)+"</pre></td></tr>"),e&&(i.source=e,s+="<tr class='test-source'><th>Source: </th><td><pre>"+o(e)+"</pre></td></tr>"),s+="</table>",k("log",w,i),E.current.assertions.push({result:!1,message:s})},url:function(e){e=p(p({},w.urlParams),e);var n,s="?";for(n in e)M.call(e,n)&&(s+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&");return t.location.protocol+"//"+t.location.host+t.location.pathname+s.slice(0,-1)},extend:p,id:y,addEvent:d,addClass:g,hasClass:m,removeClass:v}),p(w.constructor.prototype,{begin:b("begin"),done:b("done"),log:b("log"),testStart:b("testStart"),testDone:b("testDone"),moduleStart:b("moduleStart"),moduleDone:b("moduleDone")}),("undefined"==typeof document||"complete"===document.readyState)&&(E.autorun=!0),w.load=function(){k("begin",w,{});var e,n,s,i,r,a,l,u,h,c,m,g,v,b=0,S=[],x="",N="",C=p({},E);for(w.init(),p(E,C),E.blocking=!1,r=E.urlConfig.length,s=0;r>s;s++)c=E.urlConfig[s],"string"==typeof c&&(c={id:c,label:c,tooltip:"[no tooltip available]"}),E[c.id]=w.urlParams[c.id],N+="<input id='qunit-urlconfig-"+o(c.id)+"' name='"+o(c.id)+"' type='checkbox'"+(E[c.id]?" checked='checked'":"")+" title='"+o(c.tooltip)+"'><label for='qunit-urlconfig-"+o(c.id)+"' title='"+o(c.tooltip)+"'>"+c.label+"</label>";for(s in E.modules)E.modules.hasOwnProperty(s)&&S.push(s);for(b=S.length,S.sort(function(t,e){return t.localeCompare(e)}),x+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(void 0===E.module?"selected='selected'":"")+">< All Modules ></option>",s=0;b>s;s++)x+="<option value='"+o(encodeURIComponent(S[s]))+"' "+(E.module===S[s]?"selected='selected'":"")+">"+o(S[s])+"</option>";x+="</select>",h=y("qunit-userAgent"),h&&(h.innerHTML=navigator.userAgent),e=y("qunit-header"),e&&(e.innerHTML="<a href='"+w.url({filter:void 0,module:void 0,testNumber:void 0})+"'>"+e.innerHTML+"</a> "),u=y("qunit-testrunner-toolbar"),u&&(n=document.createElement("input"),n.type="checkbox",n.id="qunit-filter-pass",d(n,"click",function(){var t,e=document.getElementById("qunit-tests");n.checked?e.className=e.className+" hidepass":(t=" "+e.className.replace(/[\n\t\r]/g," ")+" ",e.className=t.replace(/ hidepass /," ")),I.sessionStorage&&(n.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))}),(E.hidepassed||I.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests"))&&(n.checked=!0,l=document.getElementById("qunit-tests"),l.className=l.className+" hidepass"),u.appendChild(n),i=document.createElement("label"),i.setAttribute("for","qunit-filter-pass"),i.setAttribute("title","Only show tests and assertions that fail. Stored in sessionStorage."),i.innerHTML="Hide passed tests",u.appendChild(i),m=document.createElement("span"),m.innerHTML=N,g=m.getElementsByTagName("input"),f(g,"click",function(e){var n={},s=e.target||e.srcElement;n[s.name]=s.checked?!0:void 0,t.location=w.url(n)}),u.appendChild(m),b>1&&(v=document.createElement("span"),v.setAttribute("id","qunit-modulefilter-container"),v.innerHTML=x,d(v.lastChild,"change",function(){var e=v.getElementsByTagName("select")[0],n=decodeURIComponent(e.options[e.selectedIndex].value);t.location=w.url({module:""===n?void 0:n,filter:void 0,testNumber:void 0})}),u.appendChild(v))),a=y("qunit-fixture"),a&&(E.fixture=a.innerHTML),E.autostart&&w.start()},d(t,"load",w.load),N=t.onerror,t.onerror=function(t,e,n){var i=!1;if(N&&(i=N(t,e,n)),i!==!0){if(w.config.current){if(w.config.current.ignoreGlobalErrors)return!0;w.pushFailure(t,e+":"+n)}else w.test("global failure",p(function(){w.pushFailure(t,e+":"+n)},{validTest:s}));return!1}return i},w.equiv=function(){function t(t,e,n){var s=w.objectType(t);return s?"function"===w.objectType(e[s])?e[s].apply(e,n):e[s]:void 0}var e,n=[],s=[],i=[],r=Object.getPrototypeOf||function(t){return t.__proto__},o=function(){function t(t,e){return t instanceof e.constructor||e instanceof t.constructor?e==t:e===t}return{string:t,"boolean":t,number:t,"null":t,undefined:t,nan:function(t){return isNaN(t)},date:function(t,e){return"date"===w.objectType(t)&&e.valueOf()===t.valueOf()},regexp:function(t,e){return"regexp"===w.objectType(t)&&e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky},"function":function(){var t=n[n.length-1];return t!==Object&&"undefined"!=typeof t},array:function(t,n){var r,o,a,l,u,h;if("array"!==w.objectType(t))return!1;if(a=n.length,a!==t.length)return!1;for(s.push(n),i.push(t),r=0;a>r;r++){for(l=!1,o=0;o<s.length;o++)if(u=s[o]===n[r],h=i[o]===t[r],u||h){if(!(n[r]===t[r]||u&&h))return s.pop(),i.pop(),!1;l=!0}if(!l&&!e(n[r],t[r]))return s.pop(),i.pop(),!1}return s.pop(),i.pop(),!0},object:function(t,o){var a,l,u,h,c,p=!0,d=[],f=[];if(o.constructor!==t.constructor&&!(null===r(o)&&r(t)===Object.prototype||null===r(t)&&r(o)===Object.prototype))return!1;n.push(o.constructor),s.push(o),i.push(t);for(a in o){for(u=!1,l=0;l<s.length;l++)if(h=s[l]===o[a],c=i[l]===t[a],h||c){if(!(o[a]===t[a]||h&&c)){p=!1;break}u=!0}if(d.push(a),!u&&!e(o[a],t[a])){p=!1;break}}s.pop(),i.pop(),n.pop();for(a in t)f.push(a);return p&&e(d.sort(),f.sort())}}}();return e=function(){var n=[].slice.apply(arguments);return n.length<2?!0:function(e,n){return e===n?!0:null===e||null===n||"undefined"==typeof e||"undefined"==typeof n||w.objectType(e)!==w.objectType(n)?!1:t(e,o,[n,e])}(n[0],n[1])&&e.apply(this,n.splice(1,n.length-1))}}(),w.jsDump=function(){function t(t){return'"'+t.toString().replace(/"/g,'\\"')+'"'}function e(t){return t+""}function n(t,e,n){var s=r.separator(),i=r.indent(),o=r.indent(1);return e.join&&(e=e.join(","+s+o)),e?[t,o+e,i+n].join(s):t+n}function s(t,e){var s=t.length,i=new Array(s);for(this.up();s--;)i[s]=this.parse(t[s],void 0,e);return this.down(),n("[",i,"]")}var i=/^function (\w+)/,r={parse:function(t,e,n){n=n||[];var s,i,r=this.parsers[e||this.typeOf(t)];return e=typeof r,s=S(t,n),-1!==s?"recursion("+(s-n.length)+")":"function"===e?(n.push(t),i=r.call(this,t,n),n.pop(),i):"string"===e?r:this.parsers.error},typeOf:function(t){var e;return e=null===t?"null":"undefined"==typeof t?"undefined":w.is("regexp",t)?"regexp":w.is("date",t)?"date":w.is("function",t)?"function":void 0!==typeof t.setInterval&&"undefined"!=typeof t.document&&"undefined"==typeof t.nodeType?"window":9===t.nodeType?"document":t.nodeType?"node":"[object Array]"===P.call(t)||"number"==typeof t.length&&"undefined"!=typeof t.item&&(t.length?t.item(0)===t[0]:null===t.item(0)&&"undefined"==typeof t[0])?"array":t.constructor===Error.prototype.constructor?"error":typeof t},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(t){if(!this.multiline)return"";var e=this.indentChar;return this.HTML&&(e=e.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),new Array(this.depth+(t||0)).join(e)},up:function(t){this.depth+=t||1},down:function(t){this.depth-=t||1},setParser:function(t,e){this.parsers[t]=e},quote:t,literal:e,join:n,depth:1,parsers:{window:"[Window]",document:"[Document]",error:function(t){return'Error("'+t.message+'")'},unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(t){var e="function",s="name"in t?t.name:(i.exec(t)||[])[1];return s&&(e+=" "+s),e+="( ",e=[e,w.jsDump.parse(t,"functionArgs"),"){"].join(""),n(e,w.jsDump.parse(t,"functionCode"),"}")},array:s,nodelist:s,arguments:s,object:function(t,e){var s,i,r,o,a=[];w.jsDump.up(),s=[];for(i in t)s.push(i);for(s.sort(),o=0;o<s.length;o++)i=s[o],r=t[i],a.push(w.jsDump.parse(i,"key")+": "+w.jsDump.parse(r,void 0,e));return w.jsDump.down(),n("{",a,"}")},node:function(t){var e,n,s,i=w.jsDump.HTML?"&lt;":"<",r=w.jsDump.HTML?"&gt;":">",o=t.nodeName.toLowerCase(),a=i+o,l=t.attributes;if(l)for(n=0,e=l.length;e>n;n++)s=l[n].nodeValue,s&&"inherit"!==s&&(a+=" "+l[n].nodeName+"="+w.jsDump.parse(s,"attribute"));return a+=r,(3===t.nodeType||4===t.nodeType)&&(a+=t.nodeValue),a+i+"/"+o+r},functionArgs:function(t){var e,n=t.length;if(!n)return"";for(e=new Array(n);n--;)e[n]=String.fromCharCode(97+n);return" "+e.join(", ")+" "},key:t,functionCode:"[code]",attribute:t,string:t,date:t,regexp:e,number:e,"boolean":e},HTML:!1,indentChar:"  ",multiline:!0};return r}(),w.diff=function(){function t(t,e){var n,s={},i={};for(n=0;n<e.length;n++)M.call(s,e[n])||(s[e[n]]={rows:[],o:null}),s[e[n]].rows.push(n);for(n=0;n<t.length;n++)M.call(i,t[n])||(i[t[n]]={rows:[],n:null}),i[t[n]].rows.push(n);for(n in s)M.call(s,n)&&1===s[n].rows.length&&M.call(i,n)&&1===i[n].rows.length&&(e[s[n].rows[0]]={text:e[s[n].rows[0]],row:i[n].rows[0]},t[i[n].rows[0]]={text:t[i[n].rows[0]],row:s[n].rows[0]});for(n=0;n<e.length-1;n++)null!=e[n].text&&null==e[n+1].text&&e[n].row+1<t.length&&null==t[e[n].row+1].text&&e[n+1]==t[e[n].row+1]&&(e[n+1]={text:e[n+1],row:e[n].row+1},t[e[n].row+1]={text:t[e[n].row+1],row:n+1});for(n=e.length-1;n>0;n--)null!=e[n].text&&null==e[n-1].text&&e[n].row>0&&null==t[e[n].row-1].text&&e[n-1]==t[e[n].row-1]&&(e[n-1]={text:e[n-1],row:e[n].row-1},t[e[n].row-1]={text:t[e[n].row-1],row:n-1});return{o:t,n:e}}return function(e,n){e=e.replace(/\s+$/,""),n=n.replace(/\s+$/,"");var s,i,r="",o=t(""===e?[]:e.split(/\s+/),""===n?[]:n.split(/\s+/)),a=e.match(/\s+/g),l=n.match(/\s+/g);if(null==a?a=[" "]:a.push(" "),null==l?l=[" "]:l.push(" "),0===o.n.length)for(s=0;s<o.o.length;s++)r+="<del>"+o.o[s]+a[s]+"</del>";else{if(null==o.n[0].text)for(n=0;n<o.o.length&&null==o.o[n].text;n++)r+="<del>"+o.o[n]+a[n]+"</del>";for(s=0;s<o.n.length;s++)if(null==o.n[s].text)r+="<ins>"+o.n[s]+l[s]+"</ins>";else{for(i="",n=o.n[s].row+1;n<o.o.length&&null==o.o[n].text;n++)i+="<del>"+o.o[n]+a[n]+"</del>";r+=" "+o.n[s].text+l[s]+i}}return r}}(),"undefined"!=typeof exports&&p(exports,w.constructor.prototype)}(function(){return this}.call());